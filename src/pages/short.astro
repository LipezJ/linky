---
import LinkCard from "@/components/LinkCard.astro"
import LinkForm from "@/components/LinkForm.astro"
import Layout from "@/layouts/Layout.astro"

const new_link = Astro.url.searchParams.get("new_link")
const link = Astro.url.searchParams.get("link")
---

<Layout title="Shortener">
	<div class="pb-6 pt-10">
		<h1 class="text-center text-4xl font-bold text-gray-900 dark:text-white">Link shortenerğŸ‘Œ</h1>
		<p class="text-center text-lg font-semibold text-gray-500 dark:text-gray-400">
			Shorten your links
		</p>
	</div>
	<LinkForm />
	<section class="mx-auto flex w-full max-w-4xl flex-col items-center gap-2 px-10 py-5">
		{
			new_link && link ? (
				<>
					<span class="text-lg font-semibold text-gray-900 dark:text-white">
						Here is your linkâœ¨
					</span>
					<LinkCard new_link={new_link} />
				</>
			) : (
				<div class="min-w-max max-w-sm rounded-lg border border-gray-200 bg-white p-6 text-lg font-medium text-gray-900 shadow dark:border-gray-700 dark:bg-gray-800 dark:text-white">
					Your link appears hereğŸ”—
				</div>
			)
		}
	</section>
</Layout>
